{
  "Resources": {
    "MyQueue": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "QueueName": "MyQueueName"
      }
    },
    "MyRestApi": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Name": "MyRestApi"
      }
    },
    "MyResource": {
      "Type": "AWS::ApiGateway::Resource",
      "Properties": {
        "RestApiId": {
          "Ref": "MyRestApi"
        },
        "PathPart": "myresource"
      }
    },
    "MyMethod": {
      "Type": "AWS::ApiGateway::Method",
      "Properties": {
        "AuthorizationType": "NONE",
        "HttpMethod": "POST",
        "Integration": {
          "Type": "AWS",
          "IntegrationHttpMethod": "POST",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:aws:apigateway:",
                {
                  "Ref": "AWS::Region"
                },
                ":sqs:path/MyQueueName"
              ]
            ]
          },
          "RequestParameters": {
            "integration.request.header.Content-Type": "'application/x-www-form-urlencoded'"
          },
          "RequestTemplates": {
            "application/json": "{\"body\": $input.json('$')}"
          },
          "Responses": {
            "default": {
              "StatusCode": "200"
            }
          }
        },
        "ResourceId": {
          "Ref": "MyResource"
        },
        "RestApiId": {
          "Ref": "MyRestApi"
        }
      }
    }
  }
}