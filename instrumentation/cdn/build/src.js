(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(void 0,o=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key),"symbol"===e(o)?o:String(o)),i)}var o}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,n;return r=e,n=[{key:"generate",value:function(e){return"".concat(e,"-").concat(Date.now(),"-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx").replace(/x/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}}],null&&t(r.prototype,null),n&&t(r,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}var a=["PAGE_VIEW","PAGE_LEFT","PAGE_LOAD_METRIC","PERFORMANCE_ENTRY"],c=function(){function e(){var t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="reportData",n=this._reportDataIfNecessary,(r=o(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.reportingUrl=i.reportingUrl||function(){throw new Error("`ReportingHandler` missing required option: `reportingUrl`.")}(),this.publicApiKey=i.publicApiKey||function(){throw new Error("`ReportingHandler` missing required option: `publicApiKey`.")}(),this.maxNumEventsInMemory=i.maxNumEventsInMemory||25,this.reportAfterIdleTimeMs=i.reportAfterIdleTimeMs||1e4,this.reportingIdleTimeCheckInterval=i.reportingIdleTimeCheckInterval||5e3,this.mockApiCalls=i.mockApiCalls||!1,this.dataToReport=[],this._setReportingOnIdleTimeInterval()}var t,n;return t=e,n=[{key:"setCurrentPageViewIdentifier",value:function(e){this.currentPageViewIdentifier=e}},{key:"recordEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!a.includes(e))throw new Error("Invalid event: ".concat(e,". Valid event types are: ").concat(a.join(", "),"."));if(!this.currentPageViewIdentifier)throw new Error("ReportingHandler has no currentPageViewIdentifier, cannot record event.");this.dataToReport.push({_event:e,uniqueIdentifier:n||r.generate(e.toLowerCase()),siteId:this.publicApiKey,pageViewIdentifier:this.currentPageViewIdentifier,ts:Date.now(),data:t}),this.lastEventRecordedAtTs=Date.now(),this.dataToReport.length>=this.maxNumEventsInMemory&&this._reportDataIfNecessary()}},{key:"_hasDataToReport",value:function(){return this.dataToReport.length>0}},{key:"_setReportingOnIdleTimeInterval",value:function(){var e=this;setInterval((function(){e.lastEventRecordedAtTs&&Date.now()-e.lastEventRecordedAtTs>=e.reportAfterIdleTimeMs&&e._reportDataIfNecessary()}),this.reportingIdleTimeCheckInterval)}},{key:"_reportDataIfNecessary",value:function(){if(this._hasDataToReport()){var e={siteId:this.publicApiKey,data:this.dataToReport};if(this.mockApiCalls)console.log("Reporting data to mock API",e);else if(navigator.sendBeacon){var t=new Blob([JSON.stringify(e)],{});navigator.sendBeacon(this.reportingUrl,t)}else{var r=new XMLHttpRequest;r.open("POST",this.reportingUrl),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e))}this.dataToReport=[]}}}],n&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===u(i)?i:String(i)),n)}var i}var s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reportingHandler=t,window.addEventListener("beforeunload",(function(){return r._reportPageLeftAtTsIfNecessary()}))}var t,n;return t=e,(n=[{key:"trackPageView",value:function(e){var t=e.navigationType,n=e.previousPageUrl;return this._reportPageLeftAtTsIfNecessary(),this.currentPageViewIdentifier=r.generate("page_view"),this.reportingHandler.setCurrentPageViewIdentifier(this.currentPageViewIdentifier),this.reportingHandler.recordEvent("PAGE_VIEW",{pageLoadTs:Date.now(),navigationType:t,url:encodeURIComponent(window.location.href||""),referrerUrl:encodeURIComponent(n||""),userAgent:window.navigator.userAgent,screenWidth:window.innerWidth,screenHeight:window.innerHeight,connection:{effectiveType:window.navigator.connection.effectiveType,downlink:window.navigator.connection.downlink,rtt:window.navigator.connection.rtt}},this.currentPageViewIdentifier),window.location.href}},{key:"_reportPageLeftAtTsIfNecessary",value:function(){this.currentPageViewIdentifier&&(this.reportingHandler.recordEvent("PAGE_LEFT",{pageLoadId:this.currentPageViewIdentifier,leftPageAtTs:Date.now()}),this.reportingHandler.reportData())}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}var b,w,E,T,P,S=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reportingHandler=t,this.performanceEntryTypesToCapture=r.performanceEntryTypesToCapture||["paint","longtask","navigation","resource","largest-contentful-paint","first-input","layout-shift"],this.ignoredPerformanceEntryUrls=[].concat(d(r.ignoredPerformanceEntryUrls||[]),d(r.includeSwishjamResourcesEntries?[]:[r.reportingUrl]))}var t,r;return t=e,(r=[{key:"beginCapturingPerformanceEntries",value:function(){var e=this;this._getPerformanceEntries().forEach((function(t){e.ignoredPerformanceEntryUrls.includes(t.name)||e.reportingHandler.recordEvent("PERFORMANCE_ENTRY",e._formattedPerformanceEntry(t))})),this._onPerformanceEntries((function(t){t.forEach((function(t){e.ignoredPerformanceEntryUrls.includes(t.name)||e.reportingHandler.recordEvent("PERFORMANCE_ENTRY",e._formattedPerformanceEntry(t))}))}))}},{key:"_onPerformanceEntries",value:function(e){if(window.PerformanceObserver)return new PerformanceObserver((function(t,r){return e(t.getEntries())})).observe({entryTypes:this.performanceEntryTypesToCapture})}},{key:"_getPerformanceEntries",value:function(){var e=this;return window.performance&&window.performance.getEntries?window.performance.getEntries().filter((function(t){return e.performanceEntryTypesToCapture.includes(t.entryType)})):[]}},{key:"_formattedPerformanceEntry",value:function(e){return m(m({},e.toJSON()),{},{name:encodeURIComponent(e.name||"")})}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I=-1,C=function(e){addEventListener("pageshow",(function(t){t.persisted&&(I=t.timeStamp,e(t))}),!0)},j=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},A=function(){var e=j();return e&&e.activationStart||0},O=function(e,t){var r=j(),n="navigate";return I>=0?n="back-forward-cache":r&&(n=document.prerendering||A()>0?"prerender":document.wasDiscarded?"restore":r.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},k=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},R=function(e,t,r,n){var i,o;return function(a){t.value>=0&&(a||n)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},x=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},L=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},M=-1,D=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},U=function(e){"hidden"===document.visibilityState&&M>-1&&(M="visibilitychange"===e.type?e.timeStamp:0,N())},V=function(){addEventListener("visibilitychange",U,!0),addEventListener("prerenderingchange",U,!0)},N=function(){removeEventListener("visibilitychange",U,!0),removeEventListener("prerenderingchange",U,!0)},H=function(){return M<0&&(M=D(),V(),C((function(){setTimeout((function(){M=D(),V()}),0)}))),{get firstHiddenTime(){return M}}},F=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},K=function(e,t){t=t||{},F((function(){var r,n=[1800,3e3],i=H(),o=O("FCP"),a=k("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<i.firstHiddenTime&&(o.value=Math.max(e.startTime-A(),0),o.entries.push(e),r(!0)))}))}));a&&(r=R(e,o,n,t.reportAllChanges),C((function(i){o=O("FCP"),r=R(e,o,n,t.reportAllChanges),x((function(){o.value=performance.now()-i.timeStamp,r(!0)}))})))}))},W={passive:!0,capture:!0},q=new Date,B=function(e,t){b||(b=t,w=e,E=new Date,J(removeEventListener),G())},G=function(){if(w>=0&&w<E-q){var e={entryType:"first-input",name:b.type,target:b.target,cancelable:b.cancelable,startTime:b.timeStamp,processingStart:b.timeStamp+w};T.forEach((function(t){t(e)})),T=[]}},Y=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){B(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,W),removeEventListener("pointercancel",n,W)};addEventListener("pointerup",r,W),addEventListener("pointercancel",n,W)}(t,e):B(t,e)}},J=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Y,W)}))},X=0,$=1/0,z=0,Q=function(e){e.forEach((function(e){e.interactionId&&($=Math.min($,e.interactionId),z=Math.max(z,e.interactionId),X=z?(z-$)/7+1:0)}))},Z=function(){return P?X:performance.interactionCount||0},ee=function(){"interactionCount"in performance||P||(P=k("event",Q,{type:"event",buffered:!0,durationThreshold:0}))},te=0,re=function(){return Z()-te},ne=[],ie={},oe=function(e){var t=ne[ne.length-1],r=ie[e.interactionId];if(r||ne.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};ie[n.id]=n,ne.push(n)}ne.sort((function(e,t){return t.latency-e.latency})),ne.splice(10).forEach((function(e){delete ie[e.id]}))}},ae={},ce=function e(t){document.prerendering?F((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},ue=function(e,t){t=t||{};var r=[800,1800],n=O("TTFB"),i=R(e,n,r,t.reportAllChanges);ce((function(){var o=j();if(o){var a=o.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-A(),0),n.entries=[o],i(!0),C((function(){n=O("TTFB",0),(i=R(e,n,r,t.reportAllChanges))(!0)}))}}))};function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e,t,r){return(t=me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,me(n.key),n)}}function me(e){var t=function(e,t){if("object"!==fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fe(t)?t:String(t)}var ye=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reportingHandler=t}var t,r;return t=e,r=[{key:"beginCapturingPerformanceMetrics",value:function(){var e=this;!function(e,t){t=t||{},F((function(){var r,n=[2500,4e3],i=H(),o=O("LCP"),a=function(e){var t=e[e.length-1];if(t){var n=Math.max(t.startTime-A(),0);n<i.firstHiddenTime&&(o.value=n,o.entries=[t],r())}},c=k("largest-contentful-paint",a);if(c){r=R(e,o,n,t.reportAllChanges);var u=L((function(){ae[o.id]||(a(c.takeRecords()),c.disconnect(),ae[o.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,u,!0)})),_(u),C((function(i){o=O("LCP"),r=R(e,o,n,t.reportAllChanges),x((function(){o.value=performance.now()-i.timeStamp,ae[o.id]=!0,r(!0)}))}))}}))}((function(t){return e._reportCWV("LCP",t)})),K((function(t){return e._reportCWV("FCP",t)})),function(e,t){t=t||{},K(L((function(){var r,n=[.1,.25],i=O("CLS",0),o=0,a=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,a.push(e)):(o=e.value,a=[e])}})),o>i.value&&(i.value=o,i.entries=a,r())},u=k("layout-shift",c);u&&(r=R(e,i,n,t.reportAllChanges),_((function(){c(u.takeRecords()),r(!0)})),C((function(){o=0,i=O("CLS",0),r=R(e,i,n,t.reportAllChanges),x((function(){return r()}))})),setTimeout(r,0))})))}((function(t){return e._reportCWV("CLS",t)})),function(e,t){t=t||{},F((function(){var r,n=[100,300],i=H(),o=O("FID"),a=function(e){e.startTime<i.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),r(!0))},c=function(e){e.forEach(a)},u=k("first-input",c);r=R(e,o,n,t.reportAllChanges),u&&_(L((function(){c(u.takeRecords()),u.disconnect()}))),u&&C((function(){var i;o=O("FID"),r=R(e,o,n,t.reportAllChanges),T=[],w=-1,b=null,J(addEventListener),i=a,T.push(i),G()}))}))}((function(t){return e._reportCWV("FID",t)})),ue((function(t){return e._reportCWV("TTFB",t)})),function(e,t){t=t||{},F((function(){var r=[200,500];ee();var n,i=O("INP"),o=function(e){e.forEach((function(e){e.interactionId&&oe(e),"first-input"===e.entryType&&!ne.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&oe(e)}));var t,r=(t=Math.min(ne.length-1,Math.floor(re()/50)),ne[t]);r&&r.latency!==i.value&&(i.value=r.latency,i.entries=r.entries,n())},a=k("event",o,{durationThreshold:t.durationThreshold||40});n=R(e,i,r,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),_((function(){o(a.takeRecords()),i.value<0&&re()>0&&(i.value=0,i.entries=[]),n(!0)})),C((function(){ne=[],te=Z(),i=O("INP"),n=R(e,i,r,t.reportAllChanges)})))}))}((function(t){return e._reportCWV("INP",t)}))}},{key:"_reportCWV",value:function(e,t){this.reportingHandler.recordEvent("PAGE_LOAD_METRIC",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e},t))}}],r&&pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===de(i)?i:String(i)),n)}var i}var ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t=e._setConfig(t),window.Swishjam={config:t},Math.random()>t.sampleRate)console.warn("Swishjam sample rate not met, not instrumenting page");else{var r=new c({reportingUrl:t.reportingUrl,publicApiKey:t.publicApiKey,maxNumEventsInMemory:t.maxNumEventsInMemory,reportAfterIdleTimeMs:t.reportAfterIdleTimeMs,reportingIdleTimeCheckInterval:t.reportingIdleTimeCheckInterval,mockApiCalls:t.mockApiCalls}),n=new s(r),i=n.trackPageView({navigationType:"hard",previousPageUrl:document.referrer});if(t.disablePerformanceEntriesCapture||new S(r,{performanceEntryTypesToCapture:t.performanceEntryTypesToCapture,includeSwishjamResourcesEntries:t.includeSwishjamResourcesEntries,reportingUrl:t.reportingUrl}).beginCapturingPerformanceEntries(),new ye(r).beginCapturingPerformanceMetrics(),window.addEventListener("hashchange",(function(){i=n.trackPageView({navigationType:"soft",previousPageUrl:i})})),window.addEventListener("popstate",(function(){i=n.trackPageView({navigationType:"soft",previousPageUrl:i})})),window.history.pushState){var o=window.history.pushState;window.history.pushState=function(){o.apply(this,arguments),i=n.trackPageView({navigationType:"soft",previousPageUrl:i})}}}}},{key:"_setConfig",value:function(e){if(!e.reportingUrl)throw new Error("Swishjam `reportingUrl` is required");if(!e.publicApiKey)throw new Error("Swishjam `publicApiKey` is required");return{reportingUrl:e.reportingUrl,publicApiKey:e.publicApiKey,sampleRate:e.sampleRate||1,maxNumEventsInMemory:e.maxNumEventsInMemory||25,reportAfterIdleTimeMs:e.reportAfterIdleTimeMs||1e4,reportingIdleTimeCheckInterval:e.reportingIdleTimeCheckInterval||2e3,mockApiCalls:e.mockApiCalls||!1,performanceEntryTypesToCapture:e.performanceEntryTypesToCapture||["navigation","paint","resource","longtask","largest-contentful-paint","layout-shift"],includeSwishjamResourcesEntries:e.includeSwishjamResourcesEntries||!1,disablePerformanceEntriesCapture:e.disablePerformanceEntriesCapture||!1}}}],null&&ve(t.prototype,null),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(){var e=document.currentScript.getAttribute("swishjam-reporting-url"),t=document.currentScript.getAttribute("swishjam-public-api-key");if(!e)throw new Error("Swishjam Error: You must specify your Swishjam reporting URL in the `swishjam-reporting-url` attribute of the script tag.");if(!t)throw new Error("Swishjam Error: You must specify your Swishjam public API key in the `swishjam-public-api-key` attribute of the script tag.");"complete"===document.readyState?ge.init({reportingUrl:e,publicApiKey:t}):window.addEventListener("load",(function(){ge.init({reportingUrl:e,publicApiKey:t})}))}()})();
//# sourceMappingURL=src.js.map